<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.shape.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.effect.*?>

<StackPane xmlns:fx="http://javafx.com/fxml" fx:controller="org.seng.gui.WaitingRoomController" styleClass="waiting-room-bg" prefWidth="700" prefHeight="450">
    <BorderPane>

        <!-- HEADER -->
        <top>
            <VBox alignment="CENTER" spacing="8" styleClass="header-box">
                <padding><Insets top="30" bottom="15"/></padding>

                <Label text="WAITING ROOM" styleClass="waiting-title">
                    <effect><DropShadow color="#000000AA" radius="10" spread="0.2"/></effect>
                </Label>

                <Label fx:id="gameTypeLabel" text="Game Mode: ..." styleClass="game-mode-label"/>

                <!-- Progress Section -->
                <StackPane alignment="CENTER">
                    <ProgressBar fx:id="matchProgressBar" prefWidth="320" progress="0.0" styleClass="sleek-progress-bar"/>
                    <Label fx:id="matchTimer" text="00:00" styleClass="progress-time"/>
                </StackPane>
            </VBox>
        </top>

        <!-- CENTER: PLAYER CARDS -->
        <center>
            <HBox alignment="CENTER" spacing="60">
                <!-- PLAYER 1 -->
                <VBox alignment="CENTER" spacing="10" styleClass="player-card">
                    <Circle radius="45" styleClass="player-avatar"/>
                    <Label fx:id="player1Name" text="Player 1" styleClass="player-name"/>
                    <HBox alignment="CENTER" spacing="6">
                        <Circle fx:id="player1StatusIndicator" radius="6" styleClass="status-indicator"/>
                        <Label fx:id="player1Status" text="Loaded" styleClass="status-text"/>
                    </HBox>
                    <Label fx:id="player1ReadyStatus" text="Ready: No" styleClass="ready-status"/>
                </VBox>

                <!-- VS and TIMER -->
                <VBox alignment="CENTER" spacing="8">
                    <Label text="VS" styleClass="vs-text"/>
                </VBox>

                <!-- PLAYER 2 -->
                <VBox alignment="CENTER" spacing="10" styleClass="player-card">
                    <Circle radius="45" styleClass="player-avatar"/>
                    <Label fx:id="player2Name" text="Player 2" styleClass="player-name"/>
                    <HBox alignment="CENTER" spacing="6">
                        <Circle fx:id="player2StatusIndicator" radius="6" styleClass="status-indicator"/>
                        <Label fx:id="player2Status" text="Waiting..." styleClass="status-text"/>
                    </HBox>
                    <Label fx:id="player2ReadyStatus" text="Ready: No" styleClass="ready-status"/>
                </VBox>
            </HBox>
        </center>

        <!-- BOTTOM ACTIONS -->
        <bottom>
            <VBox alignment="CENTER" spacing="20">
                <padding><Insets top="20" bottom="25"/></padding>

                <Button fx:id="readyButton" text="READY" onAction="#onReadyClicked" styleClass="primary-button"/>

                <Label fx:id="systemMessage" text="Waiting for both players..." styleClass="system-msg"/>

                <HBox alignment="CENTER" spacing="15">
                    <Button fx:id="chatButton" text="Open Chat" styleClass="secondary-button"/>
                    <Button fx:id="leaveButton" text="Leave Match" onAction="#onLeaveClicked" styleClass="danger-button"/>
                </HBox>
            </VBox>
        </bottom>

    </BorderPane>
</StackPane>
